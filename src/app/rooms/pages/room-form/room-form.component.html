<div class="room-container">
  <h1 class="title">
    Habitación
    <small *ngIf="currentRoom.id">
      {{ currentRoom.number }}
    </small>
  </h1>

  <form class="room-form" [formGroup]="roomForm" (ngSubmit)="onSubmit()">
    <div class="form-section">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Número de Habitación</mat-label>
        <input matInput formControlName="number" required />
        <mat-error *ngIf="roomForm.controls['number'].hasError('required')">
          El número de la habitación es obligatorio
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Categoría</mat-label>
        <mat-select formControlName="category" required>
          <mat-option *ngFor="let category of categories" [value]="category">
            {{ category.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Piso</mat-label>
        <input matInput formControlName="floor" required />
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Cuota</mat-label>
        <input matInput type="number" formControlName="quota" required />
      </mat-form-field>
    </div>

    <div class="form-section">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Costo</mat-label>
        <input matInput type="number" formControlName="cost" required />
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Detalles</mat-label>
        <textarea matInput formControlName="details"></textarea>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Disponibilidad</mat-label>
        <mat-select formControlName="vacant">
          <mat-option [value]="true">Disponible</mat-option>
          <mat-option [value]="false">Ocupada</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="form-actions">
      <button mat-flat-button color="primary" [disabled]="isSubmitting" type="submit">
        <mat-icon>save</mat-icon>
        Guardar
      </button>

      <button mat-raised-button color="accent" [routerLink]="['/rooms/list']">
        Atrás
      </button>
    </div>
  </form>
</div>
